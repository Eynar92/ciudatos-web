---
import Layout from "../../layouts/Layout.astro";
import Button from "../../components/buttons/Button.astro";
import { datasets } from "../../data/datasets.js";

// TODO crear el mapeado para los StaticPaths y que sean dinámicos
export const getStaticPaths = () => {
  return datasets.map((dataset) => {
    return {
      params: { id: dataset.slug },
      props: { dataset },
    };
  });
};

const { dataset } = Astro.props;
console.log(dataset);
const { downloads } = dataset;
console.log(downloads);
---

<Layout title="Recorrido teleférico La Paz">
  <div class="flex flex-col gap-9">
    <h1 class="text-[40px] text-azul-ciudatos font-bold">
      {dataset.title}
    </h1>
    <span class="text-[32px] text-[#4C4C4C]">{dataset.source}</span>
    <img
      class="h-[653px] w-auto object-cover"
      src={dataset.img}
      alt="Article image"
    />
    <p class="text-[28px] text-[#585858]">
      {dataset.description}
    </p>

    <section class="flex flex-col gap-4">
      <h2 class="text-[32px] text-[#040404] font-bold">Recursos del dataset</h2>
      <hr />
      <ul class="flex flex-col gap-4 items-center">
        <li class="flex items-center gap-4">
          <div class="w-[95px] h-[111px] bg-gris"></div>
          <p class="text-[25px] text-[#040404]">
            Descripción del dataset Descripción del recurso
          </p>
        </li>
        <li class="flex items-center gap-4">
          <div class="w-[95px] h-[111px] bg-gris"></div>
          <p class="text-[25px] text-[#040404]">
            Descripción del dataset Descripción del recurso
          </p>
        </li>
      </ul>
      <div class="flex flex-col items-center gap-4">
        <h3 class="text-2xl text-[#040404] font-bold">Descargas</h3>
        <div class="flex gap-4">
          {
            downloads.map(
              (btn) => btn.title && <Button src={btn.src} title={btn.title} />
            )
          }
        </div>
      </div>
    </section>
  </div>
</Layout>
